{% load crispy_forms_tags %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Nova Avaliação – Bloguito</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
  <style>
    .rating input[type="radio"] {
      display: none;
    }
    .rating label {
      font-size: 1.5rem;
      color: #ccc;
      cursor: pointer;
    }
    .rating input[type="radio"]:checked ~ label {
      color: #ffc107;
    }
    .rating label:hover,
    .rating label:hover ~ label {
      color: #ffc107;
    }
  </style>
</head>
<body class="container mt-5">
  <h1 class="mb-4">Nova Avaliação de Álbum</h1>
  <form method="post">
    {% csrf_token %}
    {{ form.title|as_crispy_field }}
    {{ form.artist|as_crispy_field }}
    {{ form.album|as_crispy_field }}

    <div class="form-group">
      <label>{{ form.rating.label }}</label>
      <div class="rating d-flex flex-row-reverse justify-content-end">
        {% for value, label in form.rating.field.choices %}
          <input type="radio" id="star{{ value }}" name="rating" value="{{ value }}" {% if form.rating.value == value|stringformat:"s" %}checked{% endif %}>
          <label for="star{{ value }}">&#9733;</label>
        {% endfor %}
      </div>
    </div>

    {{ form.description|as_crispy_field }}
    <button type="submit" class="btn btn-primary">Publicar</button>
    <a href="{% url 'post_list' %}" class="btn btn-secondary">Cancelar</a>
  </form>
</body>
</html>
